# MotherGravity 実装状況レポート（2024/06/10時点）

## 1. 現状実装済み機能

- **Actor移動**  
  - `Actor.cs` で velocity・重力落下アルゴリズム実装済み。
- **Starとの接触判定・取得**  
  - `Actor.cs` の OnTriggerEnter2D で Star コンポーネントと接触判定し、Collect() メソッド呼び出しあり。
- **ステージデータ管理**  
  - `StageData.cs` にて gravity値、必要Star数、ギミック・会話などの各種データをScriptableObject化。
- **ギミック・ターゲット自動配置（エディタ拡張）**  
  - `MotherGravitySceneBuilder.cs` により、エディタからランダム/固定配置が可能。
- **軌道予測補助クラス**  
  - `TrajectoryAssist.cs` でパラメータ付のシミュレーション計算を実装。
- **ギミックデータ管理**  
  - ギミック情報も `StageData.cs` の配列で管理。

---

## 2. 未実装／要実装の主な機能

- **重力の視覚化（範囲・強さUI/Gizmo）**
  - 現状UIやGizmoなどで重力範囲やベクトルを表示する機能は未確認。
- **Actor発射のスナップUIおよびコントローラ**
  - ユーザー入力で角度・強さを決め、定角度にスナップ＋軌道線予測を表示する機能は未確認。
- **中心に向かう重力挙動**
  - 現行ActorはY方向重力のみ。中心点に向かうベクトル加算が必要。
- **演出・会話挿入（DOTween）**
  - クリア・失敗時の会話表示制御やDOTweenを用いた演出処理は未実装。
- **失敗時リトライUI、進行管理**
  - すべてのStar取得時のクリア状態や、リトライ可能な進行管理ロジック（ステートマシン等）は未実装。
- **ステージ進行の全体管理**
  - ステージ成功・失敗・リトライ・最終ステージ判定・エンディング遷移などの進行制御ロジックが未実装。
- **セーブ・ロード（デバッグ・スキップ対応）**
  - PlayerPrefs等を使った状態セーブ・ロード機能は未実装。
- **失敗履歴（方向・強さの記録＆再表示）**
  - 失敗時の操作履歴を記録・再現する仕組みは未実装。
- **スナップ角度のUI表示/切替**
  - 発射UIにスナップ角度情報の明示や切替機能は未実装。
- **ギミックON/OFFトグル（デバッグ用）**
  - ギミックの有効/無効を動的に切り替えるUIは未実装。

---

## 3. 実装優先案（例）

1. 発射インターフェース（UI/コントローラ/スナップ軌道描画）
2. 重力ベクトルの可視化
3. ステートマシン（進行制御）
4. 会話・演出ロジック
5. セーブ・ロードや履歴、デバッグUI拡充

---

## 4. 参考
- 詳細は `MotherGravity_Spec.md` を参照。

---

（本ドキュメントはソースコード調査時点での状況です。随時更新推奨）